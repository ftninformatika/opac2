<div class="result-page-wrapper">
  <search-top-nav [pageSize]="resultPage && resultPage.size? resultPage.size: 10"
  (pageSizeChanged)="onPageSizeChange($event)"></search-top-nav>
  <pagination-controls [id]="'paginatorId'"
                       [maxSize]="5"
                       [directionLinks]="true"
                       [responsive]="true"
                       [previousLabel]="'Претходна'"
                       [nextLabel]="'Следећа'"
                       (pageChange)="onPageChange($event)"
                        class="col">
  </pagination-controls>
  <ng-template #searchFilters>
    <search-filters></search-filters>
  </ng-template>
  <div class="d-flex flex-md-row">
    <ng-container *ngTemplateOutlet="deviceWidth == 'gt_sm' ? searchFilters : ''"></ng-container>
    <div class="flex-1 mr-4">
      <a class="btn btn-primary filters-modal-btn" *ngIf="deviceWidth=='lte_sm'" (click)="filtersModal.show()" >Филтери</a>
      <div class="separator" *ngIf="deviceWidth=='lte_sm'"></div>
      <ng-container *ngIf="resultPage">
        <mdb-card *ngFor="let book of searchResult | paginate:
        {id: 'paginatorId',
        itemsPerPage: resultPage.size,
        currentPage: currentPage,
        totalItems: resultPage.totalElements}"
                  class="mb-3">
          <book-result-brief [book]="book"></book-result-brief>
        </mdb-card>
      </ng-container>
    </div>
  </div>
  <div mdbModal #filtersModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close pull-right" aria-label="Close" (click)="filtersModal.hide()">
            <span aria-hidden="true">×</span>
          </button>
          <h4 class="modal-title w-100" id="myModalLabel">Одаберите филтере:</h4>
        </div>
        <div class="modal-body">
          <ng-container *ngTemplateOutlet="searchFilters"></ng-container>
        </div>
        <div class="modal-footer">
          <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="filtersModal.hide()" mdbWavesEffect>Затвори</button>
        </div>
      </div>
    </div>
  </div>
  <pagination-controls [id]="'paginatorId'"
                       [maxSize]="5"
                       [directionLinks]="true"
                       [responsive]="true"
                       [previousLabel]="'Претходна'"
                       [nextLabel]="'Следећа'"
                       (pageChange)="onPageChange($event)">
  </pagination-controls>
</div>
