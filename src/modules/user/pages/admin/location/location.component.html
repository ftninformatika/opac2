<button id="btn-add-library" type="button" mdbBtn color="default" data-toggle="modal" data-cy="new-library"
        data-target="#basicExample" (click)="onBtnCreteNewLocation();createModal.show()" mdbWavesEffect>Нова локација
</button>

<div class="text-center admin-page-title">
  <h5>ОБАВЕШТЕЊА</h5><br>
</div>

<main>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <section class="mb-5">
        <div class="media mb-1" *ngFor="let library of libraries | paginate:
          {id: 'paginatorId',
          itemsPerPage: pageOptions.pageSize,
          currentPage: pageOptions.currentPage,
          totalItems: resultPage?.totalElements};">
          <div class="media-body">
            <hr>

            <!--Grid column-->
            <div class="col-md-1 mb-5 table-column-btns">
              <div class="div-edit" mdbTooltip="Измени" placement="left" style="cursor: pointer"
                   data-cy="edit-btn">
                <i id="edit-icon" class="fas fa-edit orange-text fa-2x"></i>
              </div>
              <div class="div-delete" mdbTooltip="Избриши" placement="left" style="cursor: pointer">
                <i class="fas fa-trash red-text fa-2x"></i>
              </div>
            </div>

            <h5 class="media-heading title">{{library.name}}</h5>
            <p class="media-content">{{library.address}}</p>
            <p class="media-content">{{library.phone}}</p>
            <p class="media-content">{{library.email}}</p>
            <p class="media-content">{{library.workingHours}}</p>
            <p class="media-content">{{library.longitude}}</p>

          </div>
        </div>
        <hr>
      </section>
    </div>
  </div>
</main>

<pagination-controls [id]="'paginatorId'"
                     [maxSize]="5"
                     [directionLinks]="true"
                     [responsive]="true"
                     [previousLabel]="'Претходна'"
                     [nextLabel]="'Следећа'"
                     (pageChange)="onPageChange($event)"
                     *ngIf="libraries">
</pagination-controls>


<div mdbModal #createModal="mdbModal" class="modal fade" id="frameModalTop" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true" (close)="createModal.hide();"
     data-mdb-target="#libraryModal">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h5 class="modal-title w-100 font-weight-bold">
          <i class="fas fa-map-marker-alt"></i>
          Локација
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                (click)="createModal.hide();">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text"
                 id="orangeForm-name"
                 class="form-control"
                 [formControl]="name"
                 [(ngModel)]="library.name"
                 data-cy="name"
                 mdbInput mdbValidate>
          <label for="orangeForm-name">* Назив</label>
          <mdb-error *ngIf="name.invalid && (name.dirty || name.touched)">
            Назив библиотеке је обавезан
          </mdb-error>
        </div>
        <div class="md-form mb-5">
          <input type="text"
                 id="orangeForm-address"
                 class="form-control"
                 [formControl]="address"
                 [(ngModel)]="library.address"
                 data-cy="address"
                 mdbInput mdbValidate>
          <label for="orangeForm-address">* Адреса</label>
          <mdb-error *ngIf="address.invalid && (address.dirty || address.touched)">
            Адреса је обавезна
          </mdb-error>
        </div>
        <div class="md-form mb-5">
          <input type="text"
                 id="orangeForm-city"
                 class="form-control"
                 [formControl]="city"
                 [(ngModel)]="library.city"
                 data-cy="city"
                 mdbInput mdbValidate>
          <label for="orangeForm-city">* Град</label>
          <mdb-error *ngIf="city.invalid && (city.dirty || city.touched)">
            Град је обавезан
          </mdb-error>
        </div>
        <div class="md-form mb-5">
          <input type="text"
                 id="orangeForm-email"
                 class="form-control"
                 [formControl]="email"
                 [(ngModel)]="library.email"
                 data-cy="email"
                 mdbInput mdbValidate>
          <label for="orangeForm-email">* Е-mail</label>
          <mdb-error *ngIf="email.invalid && (email.dirty || email.touched)">
            E-mail је обавезан
          </mdb-error>
        </div>
        <div class="md-form mb-5">
          <input type="text"
                 id="orangeForm-phone"
                 class="form-control"
                 [formControl]="phone"
                 [(ngModel)]="library.phone"
                 data-cy="phone"
                 mdbInput mdbValidate>
          <label for="orangeForm-phone">* Телефон</label>
          <mdb-error *ngIf="phone.invalid && (phone.dirty || phone.touched)">
            Телефон је обавезан
          </mdb-error>
        </div>
        <div class="md-form mb-5">
          <textarea class="md-textarea form-control"
                    rows="2"
                    id="content"
                    type="text"
                    length="120"
                    [(ngModel)]="library.workingHours"
                    [formControl]="workingHours"
                    data-cy="workingHours"
                    mdbCharCounter mdbInput mdbValidate>
          </textarea>
          <label for="content">* Радно време</label>
          <mdb-error
            *ngIf="workingHours.invalid && (workingHours.dirty || workingHours.touched)">Радно време је обавезно
          </mdb-error>
        </div>
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button mdbBtn color="default" class="waves-light" mdbWavesEffect (click)="onBtnSaveLocation();"
                data-cy="save-library-btn">
          Сачувај
        </button>
      </div>
    </div>
  </div>
</div>
