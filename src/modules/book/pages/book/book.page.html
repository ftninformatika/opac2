<div class="book-page-wrapper">
  <div *ngIf="book">
    <div class="main-container d-flex flex-container">
      <div class="book-container p-2 container-fluid">
        <div class="flex-1">
          <div class="d-flex book-info">
            <div class="mr-3">
              <img data-src="{{book.imageUrl}}"
                   height="200"
                   onError="this.src='../../../../assets/book/nocover/1.jpg';"/>
            </div>
            <div class="flex-1">
              <a *ngIf="isAdmin" [routerLink]="['/book/description-cover', lib, book._id]">Мењај слику и опис</a>
              <h3 class="h3-responsive">{{book.title}}</h3>
              <h5 *ngIf="book.subtitle" class="h5-responsive">{{book.subtitle}}</h5>
              <p>
              <span *ngFor="let author of book.authors; let last = last">
                <a class="author-link">{{author}}</a><span *ngIf="!last">, </span>
              </span>
              </p>
              <p class="publisher">{{book | recordFormat:RecordFormatType.FORMAT_PUBLISHER_INFO}}</p>
            </div>
          </div>
          <div class="items-sm mt-4">
            <items-availability-card [bookId]="book._id" [recordItems]="book.items" [containShowableItems]="showLocations"></items-availability-card>
          </div>
          <div class="d-flex flex-column">
            <div class="mb-2">
              <read-more>
                {{book.description ? book.description : 'Нема описа за овај запис.'}}
              </read-more>
            </div>
<!--            <button (click)="#uploadModal.show()"></button>-->
          </div>
          <book-tabs [book]="book"></book-tabs>
        </div>
      </div>
      <div class="other-container p-2 container-fluid">
        <items-availability-card [bookId]="book._id" [recordItems]="book.items" [containShowableItems]="showLocations"></items-availability-card>
<!--        TODO: Put links to related search to this record in this component-->
<!--        <side-misc></side-misc>-->
      </div>
    </div>
      <mdb-accordion *ngIf="showLocations">
        <mdb-accordion-item [collapsed]="false">
          <mdb-accordion-item-head>
            <h5 class="mb-0">
              Локације
            </h5>
          </mdb-accordion-item-head>
          <mdb-accordion-item-body>
            <div class="" *ngIf="book.items && book.items.length > 0">
              <items-table [items]="book.items"></items-table>
            </div>
          </mdb-accordion-item-body>
        </mdb-accordion-item>
      </mdb-accordion>
    </div>
  <div id="end"></div>

</div>
