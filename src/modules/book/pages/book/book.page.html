<div class="book-page-wrapper">
  <ng-container *ngIf="book">
    <div class="main-container d-flex flex-container">
      <div class="book-container p-2 container-fluid">
        <div class="flex-1">
          <div class="d-flex book-info">
            <div class="mr-3">
              <img data-src="{{book.imageUrl}}"
                   height="200"
                   onError="this.src='../../../../assets/book/nocover.jpg';"/>
            </div>
            <div class="flex-1">
              <h3 class="h3-responsive">{{book.title}}</h3>
              <h5 *ngIf="book.subtitle" class="h5-responsive">{{book.subtitle}}</h5>
              <p>
              <span *ngFor="let author of book.authors; let last = last">
                <a class="author-link">{{author}}</a><span *ngIf="!last">, </span>
              </span>
              </p>
              <p class="publisher">{{book.publisher}}, {{book.year}}.</p>
            </div>
          </div>
          <div class="items-sm mt-4">
          <items-availability-card ></items-availability-card>
          </div>
          <div class="d-flex flex-column">
            <div class="mb-2">
              <read-more>
                {{book.description ? book.description : 'Нема описа за овај запис.'}}
              </read-more>
            </div>
            <div class="book-tabs">
              <mdb-tabset [buttonClass]="'md-tabs tabs-3  blue'" >
                <mdb-tab heading="Детаљи">
                  <div class="row">
                    <div class="col-12 mt-2">
                      <dl class="row">
                        <dt class="col-sm-2">Наслов</dt>
                        <dd class="col-sm-10">{{book.title}}</dd>

                        <dt class="col-sm-2" *ngIf="book.subtitle">Поднаслов</dt>
                        <dd class="col-sm-10" *ngIf="book.subtitle">{{book.subtitle}}</dd>

                        <dt class="col-sm-2" *ngIf="book.authors">Аутори</dt>
                        <dd class="col-sm-10" *ngIf="book.authors">{{book.authors}}</dd>
                        <!--<dd class="col-sm-9 offset-sm-3">Dodatni autori ako ce svaki ici u poseban red</dd>-->

                        <dt class="col-sm-2" *ngIf="book.publisher">Издавач</dt>
                        <dd class="col-sm-10" *ngIf="book.publisher">{{book.publisher}}</dd>

                        <dt class="col-sm-2" *ngIf="book.year">Година</dt>
                        <dd class="col-sm-10" *ngIf="book.year">{{book.year}}</dd>
                      </dl>
                    </div>
                  </div>
                </mdb-tab>
                <mdb-tab heading="ISBD">
                  <div class="row">
                    <div class="col-12 mt-2">
                      <p>
                        <strong>HERIS, Robert</strong><br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Arhangelsk / Robert Heris ; preveo Nikola Jordanov. - Beograd : Laguna, 2007 (Beograd : Margo-art). - 382 str. ; 20 cm
                      </p>
                      <p>
                        Prevod dela: Archangel / Robert Harris. - Tiraž 1.500. - Beleška o piscu: str. [383].
                      </p>
                      <p>
                        ISBN 978-86-7436-653-0 (broš.)<br/>
                        821.111-31
                      </p>
                    </div>
                  </div>
                </mdb-tab>
                <mdb-tab heading="UNIMARC">
<!--                  TODO: move this into separate component -->
                  <div class="row">
                    <div class="col-12 mt-2" *ngIf="book.record && book.record.fields">
                      <p class="unimarc">
                        <ng-container *ngFor="let f of book.record.fields">
                          <strong>{{f.name}}</strong>
                          {{f | makeIndicator}}
                          <ng-container *ngFor="let sf of f.subfields">
  <!--                        [a]</strong>HARIS  <strong>[b]</strong>Robert<br/>-->
                            <strong>[{{sf.name}}]</strong>{{sf.content}}&nbsp;
                            <ng-container *ngIf="sf.secField">
                              <strong>{{</strong>
                              <strong>{{sf.secField.name}}</strong>
                              {{sf.secField | makeIndicator}}&nbsp;
                              <ng-container *ngFor="let secSf of sf.secField.subfields">
                                <strong>{{secSf.name}}</strong>&nbsp;{{secSf.content}}
                              </ng-container>
                              <strong>}}</strong>
                            </ng-container>
                          </ng-container>
                          <br/>
                        </ng-container>
                      </p>
                    </div>
                  </div>
                </mdb-tab>
              </mdb-tabset>
            </div>
          </div>
        </div>
      </div>
      <div class="other-container p-2 container-fluid">
        <items-availability-card></items-availability-card>
        <side-misc></side-misc>
      </div>
    </div>
  </ng-container>
</div>
